{"version":3,"sources":["src/emails-input.js","src/index.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["onChangeEvent","document","createEvent","initEvent","isEmailValid","email","test","EMAIL_STATUSES","VALID","INVALID","areGlobalHandlersAttached","getInput","input","createElement","className","setAttribute","onblur","handleBlur","isEmailsInput","element","includes","getEmailObj","value","status","handleInputValue","trim","replace","container","parentElement","render","handleKeyPress","event","target","charCode","preventDefault","handlePaste","paste","clipboardData","window","getData","pastedEmails","split","map","val","initContainer","root","state","emails","addEventListener","removeChild","appendChild","newEmails","concat","dispatchEvent","forEach","emailContainer","innerHTML","insertBefore","getElementsByClassName","EmailsInput","options","onChange","replaceAll","getState","addEmails","emailsInput","getElementById","console","log","getRandomInt","Math","floor","random","validCount","reduce","count","alert","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","Date","now","parentNode","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","i","length","module"],"mappings":"AEAA,ACAA,IDAI6E,ACAAW,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,AFFA,SCCSX,ACCAY,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAC,CDDCf,MCCM,GDDX,ACCcc,EDDE,ECCE,CAACE,SAAL,EAAd;ADAEhB,ADDJ,ICCIA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADa,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,IAAAA,IAAI,CAACI,MAAL;ADCF,ACAC,AHNH,GGIE,MDEOlB,SAAP;AACD;ACACe,AHLF,EGKEA,OAAO,CAACI,IAAR,GAAeL,IAAI,CAACK,IAAL,CAAUvD,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCwD,IAAI,CAACC,GAAL,EAA/C;ADEF,ACDEP,AHLF,ACAA,EEKEA,EHLI3F,ACAAiE,EEKA,CAACkC,EDCEpB,MDNQ,EEKf,AHLiB,CGKDtB,AFLE,EDAExD,CEMtB,GAAwB,IFNM,CAACC,CGK7B,CAA6B0F,OAA7B,EAAsCD,AHLlB,CAAqB,GGKC,AFLZ1F,CEKamG,OFLL,CAAClC,CDAnB,CAAtB,CGKE,WFL8B,CAAwB,QAAxB,CAAZ,EAA+C;ACOjE,ACDD,AHLDlE,ACAE6D,EAAAA,QAAQ,EAAE,CDAC,CAAC1D,SAAd,CAAwB,MCAX4B,KAAD,EAAQT,KAAR,EDAZ,EAA8C,IAA9C,EAAoD,KAApD;AEOE,ADPU,MCON,KDPwB6C,OAAO,CAACC,GAAR,CAAY;ACQtC,ACDJ,AHLA,ACF4CrC,IEOxCsE,AHLEjG,ECFsC2B,ICQlC,CDRuC,EAALA,CCQ9BiD,ACDA,EHLI,CGKD,CFPyB,CCQhC,AFNW,EEMjB,ACDJ,OHLM5E,YAAe,CAACC,KAAD,EAAW;AEO7B,AFND,ACHiDiB,GCOjD,CAEE,EDT+CA,GDG1C,EEME2D,ADT6C,EAAL3D,CCS/C,EAAY,6DFN6DhB,IAApE,CACLD,KADK,CAAP;AEOE,ACFJ,AHFC,ACNyC,CDE1C,ICF8B,CAAlB,ECUJ6E,CCFCoB,MDEM,GAAG,ACFlB,CDEmB,ECFE,GDEGrB,GAAG,CAACE,KAAV,EAAiBC,KAAjB,CAAuB,+DAAvB,CAAd;ACDF,AFTU,MESNiB,UAAJ,EAAgB;ADEd,ACDA,AHFG,ACT4D,CAA/C,CAApB,EDSa9F,IEGL2E,OAAJ,EAAa,CFHU,GAAG;AEIxB,ACDH,AHFD1E,ACNFP,EDMEO,KAAK,CCNC,CDMC,ACNA0D,ICSImB,GFJiB,OEIP,ADTvB,CCSwBH,ADTA,OCSO,CAAC,CAAD,CAAR,CAAjB,EDTN,EAAuClC,gBAAvC,CAAwD,OAAxD,EAAiE,YAAM;ACUlE,AFHHvC,ACNA,EDMAA,OAAO,EAAE,ACNA4D,YAAT,GAAwB;ACUvB,ACDDgC,AHL4B,ACH1B,CDGG,CGKLA,SFRS/B,CEQC,GAAGiC,AFRA,CAAChC,KAAL,CAAWD,GEQG,CAAC,AFRA,CAACE,MAAL,KEQgB,AFRAF,IAAI,CAACC,KAAL,CAAW,GAAX,CAA3B,CAAP;AESA,AFRD,QEQKiC,KAAK,GAAGvG,QAAQ,CAACwG,gBAAT,CAA0B,wBAA1B,CAAZ;ADEF,AFHF,IAAI/F,KEGK,GAAP,iBFH2B,GAAG,KAAhC;AEIC,ACFG,AFRFuD,EAAAA,OEQO,IAAIyC,AFRA,CEQC,AFRA1C,GEQG,CAAb,EAAgB0C,CAAC,EFRnB,CEQsBF,AFRA,KEQK,CAACG,MAA1B,EAAkCD,CAAC,EAAnC,AFR8BrC,EEQS,UFRG,EAAtB,qBAAtB;AESI,AHDN,ACPC,CALD,GDYM1D,MGCI6E,EHDI,GAAG,CGCD,CAACH,OHDX1E,GGCI,CAAkB6F,IHDX,CGCgB,CAACE,CAAD,AHDV,CGCK,CAASV,IAA3B,MAAqCR,MAAM,CAACT,YAAP,EAAzC,EAAgE;ADGtE,ACFQW,AHDN,ACPFzF,MDOQW,EGCA8E,AFRA,CCUCL,ADVAnB,EDOI,GAAGjE,IGCE,CDElB,ACFmBuG,CDEClB,EFHI,CEGxB,AFHyBzE,ACPzB,CEQwB,AFRA,CCUC,ACFA6F,CAAD,CAAN,CAAV,QHDQ,CAAuB,ECPvC,EAAyC1D,GDOzB,CAAd,YCPF,CAA0D,OAA1D,EAAmE,YAAM;ACWvE,ACFK,AHDLpC,ACPA,EDOAA,ICPMmC,CDOD,CAACjC,CEGC,CAAC,EDVI,GCUCwE,ADVErB,EDOf,CEGO,EAAWvC,AFHA,MCPQ,CCUnB,ADVoBqC,CCUD,ODVX,EAAf,IDOA,yDEGO,EAA2F,IAA3F,IAAmG,GAA1G;AACD,ACFI,AHDHnD,ACPA,EDOAA,ICPM6D,CDOD,CAAC1D,QCPU,GAAGgC,CDOnB,CAAmB,ICPM,CAAC2B,CDO1B,EAA2B,GCPR,CAAc,EDOjC,QCPkCC,KAAD,EAAQtE,KAAR,EAAkB;ADQnDO,ACPE,EDOFA,KAAK,CAACG,ACPAV,KAAK,CAACkB,MDOZ,ACPM,CDOa,ICPIhB,SDOvB,EAAkC,iBCPIC,GDOtC,ECPE,EAA2C;ACW/C+E,ACFIc,AHDFzF,ACPI+D,EDOJ/D,EGCEyF,EFRE1B,CCUC,AFHA,CEGCI,AFHA/D,GCPG,GEQG,AHDZ,GGCe,AHDAC,GEGjB,CCFI,EDEmB6D,IFHrB,cEGF;AACAS,ACFG,AHDD,ACPG,GEDoB,EASpB,EDEE,ACXkB,CDWjBF,ACXN,CHQOzE,KAAP,IEGF,GAAqByE,UAArB;ACDC,AHDA,CAPD;ACAI,WAAOV,KAAP;AEUJiC,AHDA,ACRG,GALkB,CDaf1F,CCRD,CESC,AFde,CEcdqE,AFdL,OEcF,GAAiBe,AHDE,GAAG,MGCtB,GHDMpF,aAAgB,CAACC,OAAD;AAAA,ACPpBmB,EAAAA,MAAM,CDQNnB,ACROyD,KAAP,CAAaH,CDQN,CAAC3D,QCRR,CDQA,CAAkBM,QAAlB,CAA2B,qBAA3B,CADoB;AAAA,ACNrB,CDMD,ACfA,GAUA;AAEA;ADMA,ACLA,IDKMC,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAW;AAC7B,ACJF;ADKE,ACJF;ADKE,ACJF,MDIQC,MAAM,GAAGnB,YAAY,CAACkB,KAAD,CAAZ,GACXf,cAAc,CAACC,KADJ,GAEXD,cAAc,CAACE,OAFnB;AAGA,ACNF,SDMS;AAAEa,ACLX,IDKWA,KAAK,EAALA,KAAF;AAASC,ACJlB,IDIkBA,MAAM,EAANA;AAAT,ACHT,GDGE;AACD,ACHD,CDJA;;AASA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACZ,KAAD,EAAW;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","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["import './emails-input.scss';\n\n// useing the CustomEvent constructor is not working in IE11. We could polyfill it\nconst onChangeEvent = document.createEvent('CustomEvent');\nonChangeEvent.initEvent('emailsInput.change', true, false);\n\nconst isEmailValid = (email) => {\n  return /^(\\s?[^\\s,]+@[^\\s,]+\\.[^\\s,]+\\s?,)*(\\s?[^\\s,]+@[^\\s,]+\\.[^\\s,]+)$/.test(\n    email\n  );\n};\n\nexport const EMAIL_STATUSES = {\n  VALID: 'valid',\n  INVALID: 'invalid'\n};\n\nlet areGlobalHandlersAttached = false;\n\nconst getInput = () => {\n  const input = document.createElement('input');\n  input.className = 'emails-input__input';\n  input.setAttribute('type', 'text');\n  input.setAttribute('placeholder', 'add more people...');\n  input.onblur = handleBlur;\n  return input;\n};\n\nconst isEmailsInput = (element) =>\n  element.className.includes('emails-input__input');\n\nconst getEmailObj = (value) => {\n  // I tend to use strings over boolean because it's easier to extend later.\n  // for instance if we want to later keep track of duplicated emails and style them differently\n  const status = isEmailValid(value)\n    ? EMAIL_STATUSES.VALID\n    : EMAIL_STATUSES.INVALID;\n  return { value, status };\n};\n\nconst handleInputValue = (input) => {\n  if (!input.value.trim().replace(/,/g, '')) {\n    return;\n  }\n\n  const container = input.parentElement;\n  render(container, [getEmailObj(input.value)]);\n  input.value = '';\n};\n\nconst handleKeyPress = (event) => {\n  const input = event.target;\n  if (\n    isEmailsInput(input) &&\n    (event.charCode === 44 || event.charCode === 13)\n  ) {\n    event.preventDefault();\n\n    handleInputValue(input);\n  }\n};\n\nconst handleBlur = (event) => {\n  const input = event.target;\n  if (isEmailsInput(input)) {\n    handleInputValue(input);\n  }\n};\n\nconst handlePaste = (event) => {\n  const input = event.target;\n  if (isEmailsInput(input)) {\n    const container = input.parentElement;\n    let paste = (event.clipboardData || window.clipboardData).getData('text');\n    if (paste) {\n      event.preventDefault();\n      const pastedEmails = paste\n        .split(',')\n        .map((val) => getEmailObj(val.trim()));\n      render(container, pastedEmails);\n    }\n  }\n};\n\nconst initContainer = (root) => {\n  const container = document.createElement('div');\n  container.className = 'emails-input';\n  container.state = { emails: [] };\n  container.addEventListener('click', ({ target }) => {\n    if (target.className.includes('emails-input__remove-tag')) {\n      // normally you would do target.parentElement.remove but it doesn't work in IE.\n      target.parentElement.parentElement.removeChild(target.parentElement);\n    }\n  });\n  const input = getInput();\n  container.appendChild(input);\n  root.appendChild(container);\n  return container;\n};\n\nconst render = (container, newEmails) => {\n  container.state.emails = container.state.emails.concat(newEmails);\n  container.dispatchEvent(onChangeEvent);\n  newEmails.forEach((email) => {\n    const emailContainer = document.createElement('div');\n    emailContainer.className = `emails-input__tag emails-input__tag--${email.status}`;\n    emailContainer.innerHTML = `\n      <span>${email.value}</span>\n      <button class=\"emails-input__remove-tag\" aria-label=\"remove ${email.value}\">\n        <svg width=\"8\" height=\"8\" viewBox=\"0 0 8 8\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8 0.8L7.2 0L4 3.2L0.8 0L0 0.8L3.2 4L0 7.2L0.8 8L4 4.8L7.2 8L8 7.2L4.8 4L8 0.8Z\" fill=\"#050038\"/>\n        </svg>\n      </span>\n    `;\n    container.insertBefore(\n      emailContainer,\n      container.getElementsByClassName('emails-input__input')[0]\n    );\n  });\n};\n\nfunction EmailsInput(root, options = {}) {\n  const container = initContainer(root);\n  if (options.onChange) {\n    container.addEventListener('emailsInput.change', (event) => {\n      options.onChange(event, container.state.emails);\n    });\n  }\n\n  if (!areGlobalHandlersAttached) {\n    document.addEventListener('keypress', handleKeyPress);\n    document.addEventListener('blur', handleBlur);\n    document.addEventListener('paste', handlePaste);\n    areGlobalHandlersAttached = true;\n  }\n\n  return {\n    replaceAll: (emails = []) => {\n      // Maybe put emails in their own container ? 🤔\n      container.state.emails = [];\n      const input = container.getElementsByClassName('emails-input__input')[0];\n      container.innerHTML = '';\n      container.appendChild(input);\n      emails = emails.map(getEmailObj);\n      render(container, emails);\n    },\n    getState: () => container.state.emails,\n    addEmails: (emails) => {\n      render(container, emails.map(getEmailObj));\n    }\n  };\n}\n\nexport default EmailsInput;\n","import './styles.scss';\n\nimport EmailsInput, { EMAIL_STATUSES } from './emails-input';\nconst emailsInput = EmailsInput(document.getElementById('emails'), {\n  onChange: (event, value) => console.log({ event, value })\n});\n\ndocument.getElementById('btnAddEmail').addEventListener('click', () => {\n  function getRandomInt() {\n    return Math.floor(Math.random() * Math.floor(999));\n  }\n  emailsInput.addEmails([`random${getRandomInt()}@veryrandom.com`]);\n});\ndocument.getElementById('btnEmailCount').addEventListener('click', () => {\n  const emails = emailsInput.getState();\n  const validCount = emails.reduce((count, email) => {\n    if (email.status === EMAIL_STATUSES.VALID) {\n      count++;\n    }\n    return count;\n  }, 0);\n  window.alert(validCount);\n});\n// btnEmailCount\n\n// document.addEventListener()\n// console.log({ input });\n\n// const test = document.getElementById('test');\n// console.log(test);\n// test.addEventListener('click', () =>\n//   input.replaceAll(['asdd', 'wqe@add.com', 'wqe@ss', '45423@ua.com'])\n// );\n// test.onclcik = () => {\n//   console.log('asdasdasdasd');\n// };\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}